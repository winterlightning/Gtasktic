<html>
  <head>
    <script src="https://apis.google.com/js/client.js"></script>
    <script type="text/javascript" src="lib/jquery-1.6.min.js"></script>
    
    <script>
		config = {
		  'client_id': '784374432524-n1rq1ddep6s1hua8r3gm0sestcm0dtq3.apps.googleusercontent.com',
		  'scope': 'https://www.googleapis.com/auth/tasks',
		  'origin': 'http://localhost/'
		};    
    
		function auth() {
		    gapi.auth.authorize(config, function(authResult) {
		      alert("done");
			  window.result = authResult;
			  alert(authResult);
			  console.log('login complete');
		      console.log(gapi.auth.getToken());
		    });
		}
		
		//Oauth 2.0 installed client flow
		//Endpoint: https://accounts.google.com/o/oauth2/auth
		//response_type: code
		//client_id: 784374432524.apps.googleusercontent.com
		//redirect_uri: urn:ietf:wg:oauth:2.0:oob
		//scope: scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Ftasks
		
		client_id = "784374432524.apps.googleusercontent.com";
		client_secret = "u4K1AZXSj8P9hIlEddLsMi6d";
		
		window.open('https://accounts.google.com/o/oauth2/auth?scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Ftasks&redirect_uri=urn:ietf:wg:oauth:2.0:oob&response_type=code&client_id=784374432524.apps.googleusercontent.com');
		
		function testauth(code) {
			$.post( "https://accounts.google.com/o/oauth2/token", 
				{ 
					code: code, 
					client_id: client_id,
					client_secret: client_secret 
				} 
			);
		};
    </script>
  </head>

  <body>
    <button onclick="auth();">Authorize</button>
  </body>
</html>